<html>
  <head>
    <title>Timetracking for Pivotal Tracker</title>
    <script src='http://ajax.googleapis.com/ajax/libs/jquery/1.10.1/jquery.min.js' type='text/javascript'></script>
    <script src='pivotal-report.js' type="text/javascript"></script>
    <style type="text/css" media="print">
      form { display: none; }
    </style>
    <style type="text/css">

      body {
        padding: 2em;
      }

      form {
        padding: 0.5em;
        background: #eee;
        margin-bottom: 2em;
      }

      .field {
        display: inline-block;
        margin: 0.25em;
        margin-right: 2em;
      }

      .field_row {
        margin: 0.25em;
      }

      .hint {
        color: gray;
      }

      form button {
        float: right;
        margin: 0.25em;
      }

      form a {
        margin: 0.25em;
        margin-top: 0;
      }

      form a[disabled] {
        pointer-events: none;
        color: #999;
      }      

    </style>
  </head>
  <body>
    
    <form id="fetch_data_form">

      <div class="field_row">

        <button id='fetch_btn'>Update Data</button>

        <div class="field">
          <label for='pivotal_token'>User API Token:
            <!--<br/><small>(get it from <a href="https://www.pivotaltracker.com/profile">Pivotal profile page</a>)</small>-->
          </label>
          <input id='pivotal_token' type='text' size="32">
        </div>

        <div class="field">
          <label for='project_id'>Project:</label>
            https://www.pivotaltracker.com/n/projects/<input id='project_id' type='text' size="7"/>
        </div>

      </div>

    </form>

    <form id="options_form">
      
      <div class="field_row hint">Data was updated <span id='update_time'/></div>

      <div class="field_row">

        <div class="field">
          <label for='date_from'>From:</label>
          <input id='date_from' type='date'/>
        </div>

        <div class="field">
          <label for='date_to'>To:</label>
          <input id='date_to' type='date'/>
        </div>

        <br/>

        <a id="prev_7_days_range_btn" class="range_btn" href="#">Previous 7 days</a>
         &nbsp; &nbsp;
        Week(<a id="current_week_range_btn" class="range_btn" href="#">Current</a>/<a id="prev_week_range_btn" class="range_btn" href="#">Previous</a>)
         &nbsp; &nbsp; 
        Month(<a id="current_month_range_btn" class="range_btn" href="#">Current</a>/<a id="prev_month_range_btn" class="range_btn" href="#">Previous</a>)

      </div>

      <div class="field_row">
        
        <div class="field">
          <input id='show_labels' type='checkbox'>Show labels</input>
        </div>

      </div>

    </form>

    <div id='result_area'>
      <style type="text/css">
        table {
          border-collapse: collapse;
        }

        td, th {
          padding: 0.2em;
          border: 1px solid #999;
          font-family: Helvetica,Arial,sans-serif;
          font-size: small;
        }

        th {
          text-align: center;
        }

        .statecell {
          text-align: center;
          font-size: smaller;
        }

        .taskcolumn {
          min-width: 25em;
        }

        .daycolumn {
          width: 2em;
          text-align: center;
        }

        tr.header th.daycolumn {
          cursor: pointer;
        }

        .holidaycolumn {
          background: #ffc;
        }

        .totalcolumn {
          text-align: center;
        }

        .titlerow {
          border: none;
          padding-top: 1em;
          text-align: left;
        }

        .labels {
          color: #999;
          font-size: smaller;
        }
      </style>
      <table id='result_table'>
      </table>
      <table id='labels_table'>
      </table>
    </div>

  </body>
</html>